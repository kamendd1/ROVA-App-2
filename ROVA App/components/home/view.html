<div data-role="view" data-title="Wegingen" data-layout="main" data-model="app.home" data-show="app.home.onShow" data-after-show="app.home.afterShow" data-stretch="true">

    <!-- START_CUSTOM_CODE_home -->
    <!-- Add custom code here. For more information about custom code, see http://docs.telerik.com/platform/screenbuilder/troubleshooting/how-to-keep-custom-code-changes -->
    <!-- END_CUSTOM_CODE_home -->
    <header data-role="header">
        <div data-role="navbar">
            <span data-role="view-title"></span>
            <a data-align="right" data-icon="settings" data-role="button" class="nav-button" href="components/home/settings.html"></a>
        </div>
    </header>
    <footer data-role="footer">
        <div data-role="tabstrip">
            <a id="btnBadge" data-role="button" data-badge="0" data-bind="click: homeModel.gotoSearch" data-icon="search">Search</a>
            <a data-role="button" data-bind="click: homeModel.scanBack" data-icon="camera">Scan Barcode</a>
        </div>
    </footer>
    <div id="scroller" data-role="scroller">
		<a name="top" id="top"></a>
        <ul id="listview"
            data-role="listview"
            data-filter="true"
            data-filterable="{field: 'search', operator: 'contains', placeholder: 'Search...', id: 'search'}",
            data-style="inset" 
            data-template="homeModelTemplate" 
            data-bind="{ source: homeModel.wegingDataSource, events: {click: homeModel.itemClick} }" 
            data-pull-to-refresh="true" 
            data-endless-scroll="false">
        </ul>
    </div>

    <!-- START_CUSTOM_CODE_homeModel -->
    <!-- Add custom code here. For more information about custom code, see http://docs.telerik.com/platform/screenbuilder/troubleshooting/how-to-keep-custom-code-changes -->
    <!-- END_CUSTOM_CODE_homeModel --> 

    <script type="text/x-kendo-template" id="homeModelTemplate">
        <div class="image-with-text" style="color:red;">
        <h3>#: data['bonnr'] # #if(special){# <img src="styles/icons/warning.png" style="width: 17px;">#}# </h3>
        <h4>#: data['postcode'] # #: data['plaats'] # </h4>
        </div>
        <p class="editableListItem"><span style="width: 50px;">#: data['afval_type'] #</span><span align="right" style="width: 210px;">#: data['afval_omschr'] #</span><span style="width: 10px;" class="km-icon km-details"></span></p>
    </script>
    <style>
    </style>
    </div>
    <script>
        $(document).ready(function() {
		$("#search").keyup(function (e) {
            var filterString = e.target.value;
            alert(filterString);
            $("#listview").data("kendoMobileListView").dataSource.filter(
                { field: "search", operator: "contains", value: filterString }
            );
        });            
        });
    </script>